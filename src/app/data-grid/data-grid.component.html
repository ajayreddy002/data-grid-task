<div class="data-table-block">
    <p-table [columns]="columns" [value]="allCustomerData" dataKey="name" responsiveLayout="scroll" [rows]="10" [paginator]="true">
        <ng-template pTemplate="header">
            <tr>
                <th style="width: 3rem">
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                </th>
                <th *ngFor="let col of columns">
                    {{col.header}}
                </th>
                <th>
                    <button class="btn btn-light float-end">
                        <em class="pi pi-ellipsis-v"></em>
                    </button>
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns" let-expanded="expanded">
            <tr>
                <td>
                    <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
                </td>
                <ng-container *ngFor="let col of columns">
                    <td *ngIf="col.field === 'customerId'">
                        <div class="d-flex align-items-center">
                            <span class="trunk-text">{{rowData[col.field]}}</span>
                            <em class="pi pi-clone ms-2"></em>
                        </div>
                    </td>
                    <td *ngIf="col.field !== 'customerId'">
                        {{rowData[col.field]}}
                    </td>
                </ng-container>
                <td>
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-light rounded-circle d-flex align-items-center">
                            <i class="bi bi-pencil-square"></i>
                        </button>
                        <button type="button" class="btn btn-light rounded-circle d-flex align-items-center">
                            <i class="bi bi-trash"></i>
                        </button>
                        <button type="button" pButton pRipple [pRowToggler]="rowData"
                            class="p-button-text p-button-rounded p-button-plain"
                            [icon]="expanded ? 'pi pi-chevron-up' : 'pi pi-chevron-down'"></button>
                    </div>

                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="rowexpansion" let-product>
            <tr>
                <td colspan="7">
                    <div class="p-p-3">
                        <p-table [value]="product.orders" dataKey="id">
                            <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="id">Id <p-sortIcon field="price"></p-sortIcon>
                </th>
                <th pSortableColumn="customer">Customer <p-sortIcon field="customer"></p-sortIcon>
                </th>
                <th pSortableColumn="date">Date <p-sortIcon field="date"></p-sortIcon>
                </th>
                <th pSortableColumn="amount">Amount <p-sortIcon field="amount"></p-sortIcon>
                </th>
                <th pSortableColumn="status">Status <p-sortIcon field="status"></p-sortIcon>
                </th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-order>
            <tr>
                <td>
                    {{order.id}}</td>
                <td>{{order.customer}}</td>
                <td>{{order.id}}</td>
                <td>{{order.amount | currency:'USD'}}</td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="6">There are no contacts for this customer.</td>
            </tr>
        </ng-template>
    </p-table>
</div>
</td>
</tr>
</ng-template>
</p-table>
</div>